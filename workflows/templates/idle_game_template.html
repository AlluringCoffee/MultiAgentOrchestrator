<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Idle Clicker Game</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            color: #eee;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        #game-container {
            max-width: 800px;
            width: 100%;
            padding: 20px;
        }
        h1 {
            text-align: center;
            color: #00ff88;
            text-shadow: 0 0 20px rgba(0,255,136,0.5);
            margin-bottom: 20px;
            font-size: 2.5em;
        }
        .stats-panel {
            background: rgba(0,0,0,0.4);
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 20px;
            text-align: center;
            border: 1px solid #00ff88;
        }
        .currency {
            font-size: 3em;
            color: #00ff88;
            text-shadow: 0 0 10px rgba(0,255,136,0.7);
        }
        .per-second {
            color: #888;
            font-size: 1.2em;
        }
        #click-btn {
            width: 200px;
            height: 200px;
            border-radius: 50%;
            background: linear-gradient(145deg, #00ff88, #00cc6a);
            border: none;
            cursor: pointer;
            font-size: 1.5em;
            color: #1a1a2e;
            font-weight: bold;
            transition: all 0.1s;
            box-shadow: 0 10px 30px rgba(0,255,136,0.3);
            display: block;
            margin: 20px auto;
        }
        #click-btn:hover { transform: scale(1.05); }
        #click-btn:active { transform: scale(0.95); }
        .upgrades-panel {
            background: rgba(0,0,0,0.4);
            border-radius: 15px;
            padding: 20px;
            margin-top: 20px;
            border: 1px solid #444;
        }
        .upgrades-panel h2 {
            color: #00ff88;
            margin-bottom: 15px;
            text-align: center;
        }
        .upgrade-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
        }
        .upgrade-card {
            background: rgba(0,255,136,0.1);
            border: 1px solid #00ff88;
            border-radius: 10px;
            padding: 15px;
            cursor: pointer;
            transition: all 0.2s;
        }
        .upgrade-card:hover { background: rgba(0,255,136,0.2); }
        .upgrade-card.disabled {
            opacity: 0.5;
            cursor: not-allowed;
            border-color: #444;
        }
        .upgrade-name { font-weight: bold; color: #00ff88; }
        .upgrade-cost { color: #ffaa00; }
        .upgrade-owned { color: #888; font-size: 0.9em; }
        .upgrade-effect { color: #aaa; font-size: 0.85em; }
        .prestige-panel {
            margin-top: 20px;
            padding: 20px;
            background: linear-gradient(135deg, rgba(255,0,128,0.2), rgba(128,0,255,0.2));
            border-radius: 15px;
            border: 1px solid #ff0080;
            text-align: center;
        }
        .prestige-panel h2 { color: #ff0080; margin-bottom: 10px; }
        #prestige-btn {
            background: linear-gradient(145deg, #ff0080, #8000ff);
            color: white;
            border: none;
            padding: 15px 30px;
            font-size: 1.2em;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.2s;
        }
        #prestige-btn:hover { transform: scale(1.05); box-shadow: 0 5px 20px rgba(255,0,128,0.4); }
        #prestige-btn:disabled { opacity: 0.5; cursor: not-allowed; }
        .prestige-points { color: #ff0080; font-size: 1.5em; margin: 10px 0; }
        .save-info { text-align: center; color: #666; font-size: 0.8em; margin-top: 20px; }
    </style>
</head>
<body>
    <div id="game-container">
        <h1>üéÆ IDLE CLICKER</h1>
        <div class="stats-panel">
            <div class="currency"><span id="currency">0</span> üí∞</div>
            <div class="per-second"><span id="per-second">0</span> per second</div>
        </div>
        <button id="click-btn">CLICK ME!<br>+<span id="click-power">1</span></button>
        <div class="upgrades-panel">
            <h2>‚¨ÜÔ∏è UPGRADES</h2>
            <div id="upgrades" class="upgrade-grid"></div>
        </div>
        <div class="prestige-panel">
            <h2>üåü PRESTIGE</h2>
            <div class="prestige-points">Prestige Points: <span id="prestige-points">0</span></div>
            <div>Earn <span id="prestige-gain">0</span> points on reset</div>
            <button id="prestige-btn">PRESTIGE (+<span id="prestige-gain2">0</span>)</button>
        </div>
        <div class="save-info">Auto-saves every 30 seconds | Last saved: <span id="last-save">Never</span></div>
    </div>

    <script>
        // Game State
        let gameState = {
            currency: 0,
            totalEarned: 0,
            clickPower: 1,
            perSecond: 0,
            prestigePoints: 0,
            upgrades: {}
        };

        // Upgrade Definitions
        const UPGRADES = [
            { id: 'u1', name: 'Auto Clicker', baseCost: 10, baseEffect: 0.1, type: 'passive', desc: '+0.1/sec' },
            { id: 'u2', name: 'Better Clicks', baseCost: 25, baseEffect: 1, type: 'click', desc: '+1 per click' },
            { id: 'u3', name: 'Worker Bot', baseCost: 100, baseEffect: 1, type: 'passive', desc: '+1/sec' },
            { id: 'u4', name: 'Click Multiplier', baseCost: 500, baseEffect: 5, type: 'click', desc: '+5 per click' },
            { id: 'u5', name: 'Factory', baseCost: 2000, baseEffect: 10, type: 'passive', desc: '+10/sec' },
            { id: 'u6', name: 'Power Click', baseCost: 10000, baseEffect: 25, type: 'click', desc: '+25 per click' }
        ];

        // Initialize upgrades in state
        UPGRADES.forEach(u => { if (!gameState.upgrades[u.id]) gameState.upgrades[u.id] = 0; });

        // DOM Elements
        const currencyEl = document.getElementById('currency');
        const perSecondEl = document.getElementById('per-second');
        const clickPowerEl = document.getElementById('click-power');
        const clickBtn = document.getElementById('click-btn');
        const upgradesEl = document.getElementById('upgrades');
        const prestigePointsEl = document.getElementById('prestige-points');
        const prestigeGainEl = document.getElementById('prestige-gain');
        const prestigeGain2El = document.getElementById('prestige-gain2');
        const prestigeBtn = document.getElementById('prestige-btn');
        const lastSaveEl = document.getElementById('last-save');

        // Calculate upgrade cost (increases by 15% each purchase)
        function getUpgradeCost(upgrade) {
            const owned = gameState.upgrades[upgrade.id] || 0;
            return Math.floor(upgrade.baseCost * Math.pow(1.15, owned));
        }

        // Calculate prestige points to gain
        function getPrestigeGain() {
            return Math.floor(Math.sqrt(gameState.totalEarned / 10000));
        }

        // Apply prestige bonus (2% per point)
        function getPrestigeMultiplier() {
            return 1 + (gameState.prestigePoints * 0.02);
        }

        // Recalculate stats
        function recalculateStats() {
            let clickPower = 1;
            let perSecond = 0;
            const mult = getPrestigeMultiplier();

            UPGRADES.forEach(u => {
                const owned = gameState.upgrades[u.id] || 0;
                if (u.type === 'click') clickPower += u.baseEffect * owned;
                if (u.type === 'passive') perSecond += u.baseEffect * owned;
            });

            gameState.clickPower = Math.floor(clickPower * mult);
            gameState.perSecond = perSecond * mult;
        }

        // Update UI
        function updateUI() {
            currencyEl.textContent = formatNumber(Math.floor(gameState.currency));
            perSecondEl.textContent = formatNumber(gameState.perSecond.toFixed(1));
            clickPowerEl.textContent = formatNumber(gameState.clickPower);
            prestigePointsEl.textContent = gameState.prestigePoints;
            const gain = getPrestigeGain();
            prestigeGainEl.textContent = gain;
            prestigeGain2El.textContent = gain;
            prestigeBtn.disabled = gain < 1;
            renderUpgrades();
        }

        // Format large numbers
        function formatNumber(num) {
            num = parseFloat(num);
            if (num >= 1e12) return (num/1e12).toFixed(1) + 'T';
            if (num >= 1e9) return (num/1e9).toFixed(1) + 'B';
            if (num >= 1e6) return (num/1e6).toFixed(1) + 'M';
            if (num >= 1e3) return (num/1e3).toFixed(1) + 'K';
            return Math.floor(num).toString();
        }

        // Render upgrades
        function renderUpgrades() {
            upgradesEl.innerHTML = UPGRADES.map(u => {
                const cost = getUpgradeCost(u);
                const owned = gameState.upgrades[u.id] || 0;
                const canAfford = gameState.currency >= cost;
                return `
                    <div class="upgrade-card ${canAfford ? '' : 'disabled'}" onclick="buyUpgrade('${u.id}')">
                        <div class="upgrade-name">${u.name}</div>
                        <div class="upgrade-cost">Cost: ${formatNumber(cost)}</div>
                        <div class="upgrade-owned">Owned: ${owned}</div>
                        <div class="upgrade-effect">${u.desc}</div>
                    </div>
                `;
            }).join('');
        }

        // Buy upgrade
        function buyUpgrade(id) {
            const upgrade = UPGRADES.find(u => u.id === id);
            if (!upgrade) return;
            const cost = getUpgradeCost(upgrade);
            if (gameState.currency >= cost) {
                gameState.currency -= cost;
                gameState.upgrades[id] = (gameState.upgrades[id] || 0) + 1;
                recalculateStats();
                updateUI();
            }
        }

        // Click handler
        clickBtn.addEventListener('click', () => {
            gameState.currency += gameState.clickPower;
            gameState.totalEarned += gameState.clickPower;
            updateUI();
        });

        // Prestige handler
        prestigeBtn.addEventListener('click', () => {
            const gain = getPrestigeGain();
            if (gain >= 1) {
                gameState.prestigePoints += gain;
                gameState.currency = 0;
                gameState.totalEarned = 0;
                UPGRADES.forEach(u => { gameState.upgrades[u.id] = 0; });
                recalculateStats();
                updateUI();
                saveGame();
            }
        });

        // Game loop (passive income)
        setInterval(() => {
            if (gameState.perSecond > 0) {
                gameState.currency += gameState.perSecond / 10;
                gameState.totalEarned += gameState.perSecond / 10;
                updateUI();
            }
        }, 100);

        // Save/Load
        function saveGame() {
            localStorage.setItem('idleClickerSave', JSON.stringify(gameState));
            lastSaveEl.textContent = new Date().toLocaleTimeString();
        }

        function loadGame() {
            const save = localStorage.getItem('idleClickerSave');
            if (save) {
                const loaded = JSON.parse(save);
                gameState = { ...gameState, ...loaded };
                UPGRADES.forEach(u => { if (!gameState.upgrades[u.id]) gameState.upgrades[u.id] = 0; });
            }
            recalculateStats();
            updateUI();
        }

        // Auto-save every 30 seconds
        setInterval(saveGame, 30000);

        // Initialize
        loadGame();
        console.log('Game loaded! Enjoy clicking!');
    </script>
</body>
</html>
